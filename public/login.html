<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin Login â€“ Charged Up Properties</title>

<style>
:root{
  --red:#c62828;
  --black:#0b0b0b;
  --card:#151515;
  --border:#2b2b2b;
  --text:#ffffff;
}
*{box-sizing:border-box}
body{
  margin:0;
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:var(--black);
  color:var(--text);
  font-family:Arial,Helvetica,sans-serif;
}
.login-card{
  background:var(--card);
  padding:40px;
  border-radius:14px;
  width:100%;
  max-width:420px;
  box-shadow:0 20px 40px rgba(0,0,0,.7);
}
h1{
  text-align:center;
  margin-bottom:25px;
}
label{
  font-size:14px;
}
input{
  width:100%;
  padding:12px;
  margin-top:6px;
  margin-bottom:20px;
  background:#101010;
  color:#fff;
  border:1px solid var(--border);
  border-radius:6px;
}
button{
  width:100%;
  padding:12px;
  background:var(--red);
  border:none;
  color:#fff;
  border-radius:6px;
  cursor:pointer;
  font-size:16px;
}
button:hover{
  background:#a61f1f;
}
.error{
  color:#ff6b6b;
  text-align:center;
  margin-top:15px;
  display:none;
}
</style>
</head>

<body>

<div class="login-card">
  <h1>Admin Login</h1>

  <label>Password</label>
  <input type="password" id="password" placeholder="Enter admin password">

  <button onclick="login()">Login</button>

  <div class="error" id="error">Invalid password</div>
</div>

<script>
const API = "https://charged-up-properties-backend.onrender.com/api/login";

async function login(){
  const password = document.getElementById("password").value;
  const error = document.getElementById("error");

  error.style.display = "none";

  try{
    const res = await fetch(API,{
      method:"POST",
      headers:{ "Content-Type":"application/json" },
      body: JSON.stringify({ password })
    });

    const data = await res.json();

    if(!res.ok){
      throw new Error(data.error || "Login failed");
    }

    // Save token
    localStorage.setItem("adminToken", data.token);

    // Redirect to inventory page
    window.location.href = "inventory.html";

  }catch(err){
    error.style.display = "block";
  }
}
</script>

</body>
</html>
